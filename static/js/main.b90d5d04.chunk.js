(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{51:function(e,t,r){},52:function(e,t,r){},53:function(e,t,r){},60:function(e,t,r){},61:function(e,t,r){"use strict";r.r(t);var n,a=r(0),o=r.n(a),i=r(9),c=r.n(i),s=(r(51),r(12)),l=r(97),u=r(98),d=r(93),f=(r(52),r(53),r(32)),h=function e(t){Object(f.a)(this,e),this.value=void 0,this.next=void 0,this.value=t,this.next=null},j=function e(t){Object(f.a)(this,e),this.head=void 0,this.tail=void 0;var r=new h(t);this.head=r,this.tail=r};!function(e){e.Up="ArrowUp",e.Down="ArrowDown",e.Rigth="ArrowRight",e.Left="ArrowLeft"}(n||(n={}));var w=function(e,t){return t===n.Up?{row:e.row-1,col:e.col}:t===n.Rigth?{row:e.row,col:e.col+1}:t===n.Down?{row:e.row+1,col:e.col}:t===n.Left?{row:e.row,col:e.col-1}:{row:0,col:0}},v=function(e,t){var r=e.row,n=e.col;return r<0||n<0||(r>=t.length||n>=t[0].length)},b=function(e,t){var r=function(e,t){if(null===e.next)return t;var r=e.value,a=r.row,o=r.col,i=e.next.value,c=i.row,s=i.col;return c===a&&s===o+1?n.Rigth:c===a&&s===o-1?n.Left:s===o&&c===a+1?n.Down:s===o&&c===a-1?n.Up:""}(e,t),a=g(r),o={row:e.value.row,col:e.value.col};return w(o,a)},g=function(e){return e===n.Up?n.Down:e===n.Rigth?n.Left:e===n.Down?n.Up:e===n.Left?n.Rigth:""};function O(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var m,R=r(6),S=function(e){var t=e.gridRows,r=e.gridCols,o=e.handleGameOver,i=e.score,c=e.setScore,l=t*r,u=function(e,t){for(var r=1,n=[],a=0;a<e;a++){for(var o=[],i=0;i<t;i++)o.push(r++);n.push(o)}return n}(t,r),d=Object(a.useState)(new j(function(e){var t=e.length,r=e[0].length,n=Math.round(t/2),a=Math.round(r/2);return{row:n,col:a,cell:e[n][a]}}(u))),f=Object(s.a)(d,1)[0],g=Object(a.useState)(new Set([f.head.value.cell])),m=Object(s.a)(g,2),S=m[0],x=m[1],p=Object(a.useState)(O(1,l)),G=Object(s.a)(p,2),C=G[0],A=G[1],N=Object(a.useState)(n.Rigth),L=Object(s.a)(N,2),E=L[0],y=L[1],I=Object(a.useState)(150),P=Object(s.a)(I,2),D=P[0],M=P[1];Object(a.useEffect)((function(){window.addEventListener("keydown",(function(e){T(e)}))}),[]),function(e,t){var r=Object(a.useRef)((function(){}));Object(a.useEffect)((function(){r.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){r.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){U()}),D);var T=function(e){var t,r="ArrowUp"===(t=e.key)?n.Up:"ArrowRight"===t?n.Rigth:"ArrowDown"===t?n.Down:"ArrowLeft"===t?n.Left:"";""!==r&&y(r)},U=function(){var e={row:f.head.value.row,col:f.head.value.col},t=w(e,E);if(v(t,u))o();else{var r=u[t.row][t.col];if(S.has(r))o();else{var n=new h({row:t.row,col:t.col,cell:r}),a=f.head;f.head=n,a.next=n;var i=new Set(S);i.delete(f.tail.value.cell),i.add(r),f.tail=f.tail.next,null===f.tail&&(f.tail=f.head),r===C&&(k(i),V(i),M(D-5)),x(i)}}},k=function(e){var t=b(f.tail,E);if(!v(t,u)){var r=u[t.row][t.col],n=new h({row:t.row,col:t.col,cell:r}),a=f.tail;f.tail=n,f.tail.next=a,e.add(r),x(e)}},V=function(e){for(var t;t=O(1,l),e.has(t)||C===t;);A(t),c(i+1)};return Object(R.jsx)("div",{className:"grid",children:u.map((function(e,t){return Object(R.jsx)("div",{className:"row",children:e.map((function(e,t){var r=function(e,t,r){var n="cell";return e===t&&(n="cell cell-red"),r.has(e)&&(n="cell cell-green"),n}(e,C,S);return Object(R.jsx)("div",{className:r},t)}))},t)}))})},x=r(62),p=r(100),G=r(99),C=function(e){var t=e.handleSubmit,r=e.gridCols,n=e.gridRows,a=e.setGridCols,o=e.setGridRows,i=e.isStartScreen;return Object(R.jsxs)("form",{onSubmit:t,className:"start-form",children:[Object(R.jsxs)(d.a,{variant:"h5",children:["Start game by pressing ",i?'"Start game"':'"Restart game"'," ","button"]}),Object(R.jsxs)("div",{className:"text-fields",children:[Object(R.jsx)(G.a,{variant:"outlined",required:!0,id:"gridRows",label:"Number of rows",defaultValue:15,type:"number",InputProps:{inputProps:{min:10,max:20}},value:n,onChange:function(e){return o(Number(e.target.value))},style:{width:200}}),Object(R.jsx)(G.a,{required:!0,variant:"outlined",id:"gridCols",label:"Number of columns",defaultValue:15,type:"number",InputProps:{inputProps:{min:10,max:25}},value:r,onChange:function(e){return a(Number(e.target.value))},style:{width:200}})]}),Object(R.jsx)(p.a,{color:"primary",size:"large",variant:"contained",type:"submit",children:i?"Start game":"Restart game"})]})},A=(r(60),function(e){var t=e.handleStartGame,r=e.gridRows,n=e.gridCols,a=e.setGridCols,o=e.setGridRows;return Object(R.jsx)(x.a,{elevation:3,className:"start-screen",children:Object(R.jsx)(C,{handleSubmit:t,gridCols:n,gridRows:r,setGridCols:a,setGridRows:o,isStartScreen:!0})})}),N=function(e){var t=e.score,r=e.handleResetGame,n=e.gridCols,a=e.gridRows,o=e.setGridCols,i=e.setGridRows;return Object(R.jsxs)(x.a,{elevation:3,className:"start-screen",children:[Object(R.jsxs)(d.a,{variant:"h4",children:["Your score is - ",t]}),Object(R.jsx)(C,{handleSubmit:r,gridCols:n,gridRows:a,setGridCols:o,setGridRows:i,isStartScreen:!1})]})};!function(e){e.START="start",e.GAME_OVER="game_over",e.PLAING="plaing"}(m||(m={}));var L=function(){var e=Object(a.useState)(0),t=Object(s.a)(e,2),r=t[0],n=t[1],o=Object(a.useState)(15),i=Object(s.a)(o,2),c=i[0],f=i[1],h=Object(a.useState)(15),j=Object(s.a)(h,2),w=j[0],v=j[1],b=Object(a.useState)(m.START),g=Object(s.a)(b,2),O=g[0],x=g[1],p=function(){x(m.GAME_OVER)},G=function(){x(m.PLAING),n(0)},C=function(){x(m.PLAING)};return Object(R.jsxs)("div",{className:"App",children:[Object(R.jsx)(l.a,{children:Object(R.jsx)(u.a,{children:Object(R.jsxs)(d.a,{variant:"h5",children:["Snake game. Score: ",r]})})}),Object(R.jsx)("div",{className:"container",children:function(e){switch(e){case m.START:return Object(R.jsx)(A,{handleStartGame:C,gridRows:c,gridCols:w,setGridCols:v,setGridRows:f});case m.GAME_OVER:return Object(R.jsx)(N,{score:r,handleResetGame:G,gridRows:c,gridCols:w,setGridCols:v,setGridRows:f});case m.PLAING:return Object(R.jsx)(S,{gridRows:c,gridCols:w,handleGameOver:p,setScore:n,score:r})}}(O)})]})},E=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,102)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),o(e),i(e)}))};c.a.render(Object(R.jsx)(o.a.StrictMode,{children:Object(R.jsx)(L,{})}),document.getElementById("root")),E()}},[[61,1,2]]]);
//# sourceMappingURL=main.b90d5d04.chunk.js.map